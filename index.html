const TREASURY = "BAavP6nxHDkVDowYXoyDaNDbc9CAgncfDPELAyjzoyTq";
const X1_TESTNET_RPC = "https://rpc.testnet.x1.xyz"; 
const connection = new solanaWeb3.Connection(X1_TESTNET_RPC, "confirmed");

// REAL-TIME BALANCE FETCH
async function updatePot() {
    try {
        const balance = await connection.getBalance(new solanaWeb3.PublicKey(TREASURY));
        // Divide by 1,000,000,000 to convert lamports to XNT
        document.getElementById('potDisplay').innerText = (balance / 1000000000).toFixed(2);
    } catch(e) { 
        console.error("Fetch failed:", e);
        document.getElementById('potDisplay').innerText = "SYNCING..."; 
    }
}

// Update every 10 seconds
setInterval(updatePot, 10000); 
updatePot();
