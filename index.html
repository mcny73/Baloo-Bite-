<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BALOO BITE - THE JACKPOT</title>
    <style>
        :root { --gold: #ffcc00; --orange: #ff8c00; --dark: #0a0a0a; --burn: #ff4500; }
        body { background: var(--dark); color: white; font-family: 'Montserrat', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .game-card { background: #111; border: 2px solid var(--orange); border-radius: 30px; padding: 40px; width: 400px; text-align: center; box-shadow: 0 0 50px rgba(255,140,0,0.2); }
        
        .jackpot-container { background: rgba(255,204,0,0.1); border: 1px solid var(--gold); border-radius: 15px; padding: 20px; margin-bottom: 15px; }
        .jackpot-amount { font-size: 48px; font-weight: 900; color: var(--gold); text-shadow: 0 0 15px var(--gold); }
        
        .burn-stats { background: rgba(255, 69, 0, 0.1); border: 1px solid var(--burn); border-radius: 10px; padding: 10px; margin-bottom: 20px; display: flex; justify-content: space-around; align-items: center; }
        .burn-val { color: var(--burn); font-weight: bold; font-size: 18px; }

        .status-bar { font-family: monospace; font-size: 11px; color: #00ffcc; margin-bottom: 15px; }
        .amount-selector { font-size: 20px; font-weight: bold; margin: 15px 0; color: var(--orange); }
        input[type=range] { width: 100%; accent-color: var(--orange); }
        
        .btn-chomp { background: linear-gradient(180deg, var(--orange), #cc7000); border: none; padding: 20px; width: 100%; border-radius: 15px; color: white; font-size: 24px; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.2s; box-shadow: 0 8px 0 #884a00; }
        .btn-chomp:active { transform: translateY(4px); box-shadow: 0 4px 0 #884a00; }
    </style>
</head>
<body>

<div class="game-card">
    <div class="status-bar" id="status">CONNECTING TO X1...</div>
    
    <div class="jackpot-container">
        <div style="font-size: 12px; text-transform: uppercase; color: var(--gold);">The Big Baloo Jackpot</div>
        <div class="jackpot-amount" id="pot-display">0.00</div>
        <div style="font-size: 12px; color: var(--gold);">XNT IN POT</div>
    </div>

    <div class="burn-stats">
        <div style="font-size: 10px; text-align: left;">ðŸ”¥ TOTAL $BALOO<br>BURNED (EST.)</div>
        <div class="burn-val" id="burn-display">12,450</div>
    </div>

    <div class="amount-selector">
        BITE: <span id="bite-val">0.25</span> XNT
        <input type="range" id="bite-slider" min="0.1" max="10" step="0.1" value="0.25">
    </div>

    <button class="btn-chomp" onclick="playGame()">CHOMP!</button>
    
    <p style="font-size: 10px; color: #555; margin-top: 15px;">AUTO-DISTRIBUTION: 90% POT | 8% DEV | 2% BURN</p>
</div>

<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
<script>
    const OWNER_ADDR = "BAavP6nxHDkVDowYXoyDaNDbc9CAgncfDPELAyjzoyTq"; 
    const BURN_ADDR  = "7ydovVxaUsFnYkM7GdK2kXQU4dX7yGzCtZJ8YjeZ2SXH"; 
    const POT_ADDR   = "BAavP6nxHDkVDowYXoyDaNDbc9CAgncfDPELAyjzoyTq"; 
    const RPC_URL    = "https://testnet-rpc.x1.xyz";

    let publicKey = null;
    let fakeBurned = 12450; // Startwaarde fictieve burn
    const connection = new solanaWeb3.Connection(RPC_URL, "confirmed");

    async function updatePot() {
        try {
            const info = await connection.getAccountInfo(new solanaWeb3.PublicKey(POT_ADDR));
            if(info) {
                const balance = info.lamports / 1000000000;
                document.getElementById('pot-display').innerText = balance.toFixed(2);
            }
        } catch(e) {}
    }

    async function init() {
        const provider = window.x1 || window.solana;
        if (provider) {
            const resp = await provider.connect();
            publicKey = resp.publicKey;
            document.getElementById('status').innerText = "CONNECTED: " + publicKey.toString().substring(0,8);
            updatePot();
        }
    }

    async function playGame() {
        if (!publicKey) { await init(); return; }
        const provider = window.x1 || window.solana;
        const biteAmount = parseFloat(document.getElementById('bite-slider').value);
        const lamports = biteAmount * 1000000000;

        try {
            document.getElementById('status').innerText = "BALOO IS CHEWING...";
            const transaction = new solanaWeb3.Transaction();

            // De echte 90/8/2 verdeling
            transaction.add(solanaWeb3.SystemProgram.transfer({
                fromPubkey: publicKey, toPubkey: new solanaWeb3.PublicKey(POT_ADDR), lamports: Math.floor(lamports * 0.90)
            }));
            transaction.add(solanaWeb3.SystemProgram.transfer({
                fromPubkey: publicKey, toPubkey: new solanaWeb3.PublicKey(OWNER_ADDR), lamports: Math.floor(lamports * 0.08)
            }));
            transaction.add(solanaWeb3.SystemProgram.transfer({
                fromPubkey: publicKey, toPubkey: new solanaWeb3.PublicKey(BURN_ADDR), lamports: Math.floor(lamports * 0.02)
            }));

            transaction.feePayer = publicKey;
            const { blockhash } = await connection.getLatestBlockhash();
            transaction.recentBlockhash = blockhash;

            await provider.signAndSendTransaction(transaction);
            
            // Fictieve burn-update op de site
            const addedBurn = Math.floor(biteAmount * 1000); // Fictieve berekening voor effect
            fakeBurned += addedBurn;
            document.getElementById('burn-display').innerText = fakeBurned.toLocaleString();

            alert("CHOMP! Baloo liked that bite. 2% sent to the Burn Wallet!");
            updatePot();
            document.getElementById('status').innerText = "SUCCESSFUL BITE!";
        } catch (err) {
            document.getElementById('status').innerText = "BITE FAILED";
        }
    }

    document.getElementById('bite-slider').oninput = function() {
        document.getElementById('bite-val').innerText = this.value;
    };

    window.addEventListener('load', init);
    setInterval(updatePot, 5000);
</script>

</body>
</html>
