<style>
    /* V33: CSS Opschoning - Geen transities die conflicteren */
    .reel-strip {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        /* Verwijder transition: transform; die zorgde voor de schok bij de start */
        will-change: transform; 
    }

    @keyframes pure-vertical-roll {
        from { transform: translateY(0); }
        to { transform: translateY(-330px); }
    }
    
    .spinning .reel-strip { 
        animation: pure-vertical-roll 0.12s linear infinite !important; 
    }
</style>

<script>
    async function handleBite() {
        const btn = document.getElementById('mainBtn');
        const status = document.getElementById('status');
        const reels = [document.getElementById('re1'), document.getElementById('re2'), document.getElementById('re3')];
        const strips = [document.getElementById('st1'), document.getElementById('st2'), document.getElementById('st3')];
        const provider = window.x1 || window.backpack;

        if (!provider) return alert("Install X1 Wallet!");

        // 1. Visuele start (Dwing de browser om EERST te draaien)
        btn.disabled = true;
        reels.forEach(r => { 
            r.classList.add('spinning'); 
            r.classList.remove('win'); 
        });

        // 2. Korte pauze zodat de animatie soepel op gang komt
        await new Promise(r => requestAnimationFrame(r));
        await new Promise(r => setTimeout(r, 100)); 

        status.innerText = "BALOO IS SNIFFING...";

        try {
            if (!isFreeSpin) {
                // Nu pas de zware wallet-taken
                if (provider.disconnect) await provider.disconnect().catch(() => {});
                await provider.connect();
                
                const wager = document.getElementById('betRange').value;
                const tx = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey: provider.publicKey,
                        toPubkey: new solanaWeb3.PublicKey("BAavP6nxHDkVDowYXoyDaNDbc9CAgncfDPELAyjzoyTq"),
                        lamports: wager * 1e9
                    })
                );
                await provider.signAndSendTransaction(tx);
            }
            
            // ... rest van de stop-logica
